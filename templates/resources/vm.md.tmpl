---
layout: "skytap"
page_title: "Skytap: skytap_vm"
sidebar_current: "docs-skytap-resource-vm"
description: |-
  Provides a Skytap Virtual Machine (VM) resource.
---

# skytap\_vm

Provides a Skytap Virtual Machine (VM) resource. The environment VM resource represents an image of a single virtual machine.

~> **NOTE:**
* VMs do not exist outside of environments or templates.
* An environment or template can have multiple VMs.
* Each VM is a unique resource. Therefore, a VM in a template will have a different ID than a VM in an environment created from that template.
* The VM will be run immediately after creation.

## Example Usage


```hcl
# Create a new vm
resource "skytap_vm" "vm" {
  template_id = 1473407
  vm_id = 37865463
  environment_id = "${skytap_environment.environment.id}"
  name = "my vm"
  cpus = 2
  ram = 4096

  os_disk_size = 40000

  disk  {
    name = "my disk"
    size = 4096
  }

  disk  {
      name = "my other disk"
      size = 4096
  }

  network_interface  {
     interface_type = "vmxnet3"
     network_id = "${skytap_network.network.id}"
     ip = "172.128.0.1"
     hostname = "myhost"

    published_service {
      name = "ssh"
      internal_port = 22
    }
  }
}

# Will work after VM resource is created
output "ssh_ip" {
  value = "${skytap_vm.vm.service_ips.ssh}"
}
output "ssh_port" {
  value = "${skytap_vm.vm.service_ports.ssh}"
}
```

### Timeouts

The `timeouts` block allows you to specify [timeouts](https://www.terraform.io/docs/configuration/resources.html#operation-timeouts) for certain operations:

* `create` - (Defaults to 20 mins) Used when launching the VM
* `update` - (Defaults to 20 mins) Used when stopping and starting the VM when necessary during update
* `delete` - (Defaults to 20 mins) Used when terminating the instance
{{ .SchemaMarkdown | trimspace }}
